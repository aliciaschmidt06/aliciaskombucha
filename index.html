<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Alicia's Kombucha Journal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <!-- Optional: Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container header-content">
      <div>
        <h1 class="site-title">Alicia's Kombucha Journal</h1>
        <p class="site-subtitle">Tracking what works and what doesn't.</p>
      </div>
      <div class="badge">üçπ Home Brewed</div>
    </div>
  </header>

  <nav class="tabs-nav">
    <div class="container tabs-nav-inner">
      <button class="tab-button" data-tab="instructions">How to Make Kombucha</button>
      <button class="tab-button active" data-tab="brew-log">Brew Log</button>
    </div>
  </nav>

  <main class="container main-content">
    <!-- Instructions TAB -->
    <section id="instructions" class="tab-panel">
      <article class="card">
        <h2>My Kombucha Process</h2>
        <p class="intro-text">
          This is my personal method for making kombucha at home. My household has become obsessed with kombucha! We drink it daily - it's fun, refreshing, fizzy, and there are always new flavours to try. I would recomend anyone to try it out!
        </p>

        <div class="process-grid">
          <div class="process-step">
            <h3>1. Gather Ingredients</h3>
            <ul>
              <li>3‚Äì4 black or green tea bags (or 8‚Äì10 g loose tea)</li>
              <li>1 cup (200 g) white sugar</li>
              <li>~3 L water</li>
              <li>1 SCOBY</li>
              <li>Starter tea (1‚Äì2 cups from a previous batch or store-bought raw kombucha)</li>
            </ul>
          </div>

          <div class="process-step">
            <h3>2. Brew the Sweet Tea</h3>
            <ol>
              <li>Boil ~1 L of water.</li>
              <li>Steep tea for 10‚Äì15 minutes.</li>
              <li>Remove tea and stir in the sugar until fully dissolved.</li>
              <li>Top up with cool water until the total is ~3 L.</li>
              <li>Let cool completely to room temperature.</li>
            </ol>
          </div>

          <div class="process-step">
            <h3>3. Primary Fermentation</h3>
            <ol>
              <li>Pour the cooled sweet tea into a clean glass jar.</li>
              <li>Add the SCOBY and starter tea.</li>
              <li>Cover with a breathable cloth and rubber band.</li>
              <li>Ferment 7‚Äì14 days at room temperature, out of direct sunlight.</li>
              <li>Taste starting around day 7 until it‚Äôs slightly tart but not too sour.</li>
            </ol>
          </div>

          <div class="process-step">
            <h3>4. Second Fermentation & Flavouring</h3>
            <ol>
              <li>Remove SCOBY and some starter tea for the next batch.</li>
              <li>Bottle the kombucha in swing-top or airtight bottles.</li>
              <li>Add flavourings (fruit, juice, herbs, ginger, etc.).</li>
              <li>Leave at room temp 2‚Äì5 days to build carbonation.</li>
              <li>Burp bottles once a day to avoid overpressure.</li>
              <li>Move to the fridge when it tastes right.</li>
            </ol>
          </div>

          <div class="process-step">
            <h3>5. Safety & Cleaning Notes</h3>
            <ul>
              <li>Always wash hands and equipment well.</li>
              <li>Watch for mold (fuzzy patches, green/black/white) ‚Äì when in doubt, throw it out.</li>
              <li>Use glass, not metal, for long contact.</li>
              <li>Label dates and flavours so you can track what works best.</li>
            </ul>
          </div>
        </div>
      </article>
    </section>

    <!-- Brew Log TAB -->
    <section id="brew-log" class="tab-panel active">
      <div class="card">
        <div class="card-header-row">
          <h2>Brew Log</h2>
        </div>
        <div id="batch-17"></div>
        <div id="batch-16"></div>
        <div id="batch-15"></div>
        <div id="batch-14"></div>
        <div id="batch-13"></div>
        <div id="batch-12"></div>
        <div id="batch-11"></div>
        <div id="batch-10"></div>
        <div id="batch-9"></div>
        <div id="batch-8"></div>
        <div id="batch-7"></div>
        <div id="batch-6"></div>
        <div id="batch-5"></div>
        <div id="batch-4"></div>
        <div id="batch-3"></div>
        <div id="batch-2"></div>
        <div id="batch-1"></div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Made with tea, sugar, and SCOBYs. üíõ</p>
    </div>
  </footer>

  <!-- JS for the tabs -->
  <script>
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabPanels = document.querySelectorAll('.tab-panel');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const target = button.getAttribute('data-tab');

        // Update button active state
        tabButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        // Show/hide panels
        tabPanels.forEach(panel => {
          if (panel.id === target) {
            panel.classList.add('active');
          } else {
            panel.classList.remove('active');
          }
        });
      });
    });
  </script>

  <!-- JS to load batch cards -->
  <script>
    async function loadBatch(id, file) {
      const container = document.getElementById(id);
      if (!container) return;

      try {
        const response = await fetch(file);
        if (!response.ok) {
          throw new Error(response.status + " " + response.statusText);
        }
        const html = await response.text();
        container.innerHTML = html;
      } catch (err) {
        console.error("Error loading", file, err);
        container.innerHTML = "<p>Couldn't load " + file + ".</p>";
      }
    }

    // Make sure this runs after the DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      loadBatch("batch-17", "batches/batch-17.html");
      loadBatch("batch-16", "batches/batch-16.html");
      loadBatch("batch-15", "batches/batch-15.html");
      loadBatch("batch-14", "batches/batch-14.html");
      loadBatch("batch-13", "batches/batch-13.html");
      loadBatch("batch-12", "batches/batch-12.html");
      loadBatch("batch-11", "batches/batch-11.html");
      loadBatch("batch-10", "batches/batch-10.html");
      loadBatch("batch-9", "batches/batch-9.html");
      loadBatch("batch-8", "batches/batch-8.html");
      loadBatch("batch-7", "batches/batch-7.html");
      loadBatch("batch-6", "batches/batch-6.html");
      loadBatch("batch-5", "batches/batch-5.html");
      loadBatch("batch-4", "batches/batch-4.html");
      loadBatch("batch-3", "batches/batch-3.html");
      loadBatch("batch-2", "batches/batch-2.html");
      loadBatch("batch-1", "batches/batch-1.html");
    });
  </script>
</body>
</html>
